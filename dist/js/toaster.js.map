{"version":3,"file":"js/toaster.js","mappings":"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","sources":["webpack://@faulkj/toaster/./src/toaster.scss?caf5","webpack://@faulkj/toaster/./src/Toast.js","webpack://@faulkj/toaster/webpack/bootstrap","webpack://@faulkj/toaster/webpack/runtime/define property getters","webpack://@faulkj/toaster/webpack/runtime/hasOwnProperty shorthand","webpack://@faulkj/toaster/webpack/runtime/make namespace object","webpack://@faulkj/toaster/./src/toaster.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","export class Toast {\r\n\r\n   constructor(msg, options = {}) {\r\n      this.version = toaster.version;\r\n      this.el = document.createElement(\"div\");\r\n\r\n      this.options = {\r\n         timeout  : 2500,\r\n         class    : \"alert-primary\",\r\n         duration : 1000,\r\n         anchor   : \"bottom\",\r\n         icon     : null,\r\n         iconLib  : \"bi\",\r\n         click    : null\r\n      };\r\n\r\n      for(let opt in options) this.options[opt] = options[opt];\r\n\r\n      var ico = this.options.icon ? `<div class=\"icon\"><i class=\"${this.options.iconLib} ${this.options.iconLib}-${this.options.icon}\"></i></div>` : \"\";\r\n\r\n      this.el.className = `toaster alert ${this.options[\"class\"]}`;\r\n      this.el.innerHTML = `${ico}<div class=\"body\">${msg}</div>`;\r\n\r\n      this.el.addEventListener(\"eat\", () => {\r\n         this.el.style.opacity = 1;\r\n         (() => {\r\n            this.el.style.transition = `opacity ${this.options.duration}ms`;\r\n            this.el.style.opacity = 0;\r\n            this.el.addEventListener(\"transitionend\", () => {\r\n               this.el.style.display = \"none\";\r\n               this.el.dispatchEvent(new Event('eaten'));\r\n               this.el.remove();\r\n\r\n               let x = document.querySelectorAll(\"div.toaster\").length;\r\n               [...document.querySelectorAll(\"div.toaster\")].forEach(el => {\r\n                  x--;\r\n                  el.style[this.options.anchor] = (x * (el.offsetHeight + parseInt(getComputedStyle(el).marginBottom) + parseInt(getComputedStyle(el).marginTop))) + \"px\";\r\n               });\r\n\r\n               this.swallow();\r\n            });\r\n         })();\r\n      });\r\n\r\n      if(this.options.click) {\r\n         this.el.style.cursor = \"pointer\";\r\n         this.el.addEventListener(\"click\", () => {\r\n            this.options.click();\r\n            this.el.dispatchEvent(new Event('eat'));\r\n         });\r\n      }\r\n\r\n      toaster.toastQueue.push({\r\n         t: this.el,\r\n         o: this.options\r\n      });\r\n\r\n      setTimeout(() => this.el.dispatchEvent(new Event('bake')), 0);\r\n\r\n      if(toaster.toastQueue.length == 1) setTimeout(() => toaster.serve(), 0);\r\n   }\r\n\r\n   addEventListener(event, callback) {\r\n      this.el.addEventListener(event, callback);\r\n      return this;\r\n   }\r\n\r\n   eat() {\r\n      this.el.dispatchEvent(new Event('eat'));\r\n   }\r\n\r\n   swallow() {\r\n      this.el.remove();\r\n      delete this;\r\n   }\r\n\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*!\r\n * Toaster v1.0\r\n *\r\n * Kopimi 2022 Joshua Faulkenberry\r\n * Unlicensed under The Unlicense\r\n * http://unlicense.org/\r\n */\r\n\r\n import Toast from \"./Toast\";\r\n import \"./toaster.scss\";\r\n\r\nexport const toaster = window.toaster = {\r\n\r\n   version      : \"1.0\",\r\n\r\n   toastQueue   : [],\r\n\r\n   currentToast : null,\r\n\r\n   serve        : function() {\r\n                     if(!this.toastQueue.length) return;\r\n                     var tst = this.toastQueue[0].t;\r\n                     var options = this.toastQueue[0].o;\r\n\r\n                     document.body.appendChild(tst);\r\n                     tst.style[options.anchor] = 0 - (tst.offsetHeight + parseInt(getComputedStyle(tst).marginBottom) + parseInt(getComputedStyle(tst).marginTop)) + \"px\";\r\n                     tst.style.clipPath = `inset(0 0 ` + (tst.offsetHeight + parseInt(getComputedStyle(tst).marginBottom) + parseInt(getComputedStyle(tst).marginTop)) + `px)`;\r\n\r\n                     setTimeout(() => {\r\n                        tst.style.transition = `clip-path ${options.duration}ms, ${options.anchor} ${options.duration}ms`;\r\n                        tst.style.clipPath = \"inset(0)\";\r\n                        let x = document.querySelectorAll(\"div.toaster\").length;\r\n\r\n                        [...document.querySelectorAll(\"div.toaster\")].forEach(el => {\r\n                           x--;\r\n                           el.style[options.anchor] = ((x * (el.offsetHeight + parseInt(getComputedStyle(el).marginBottom) + parseInt(getComputedStyle(el).marginTop)))) + \"px\";\r\n                        });\r\n                     }, 0);\r\n\r\n                     this.currentToast = tst;\r\n\r\n                     this.currentToast.dispatchEvent(new Event('baked'));\r\n\r\n                     const next = (event) => {\r\n                        if (event.propertyName != options.anchor) return;\r\n                        if(options.timeout) setTimeout(() => {\r\n                           tst.dispatchEvent(new Event('eat'));\r\n                        }, options.timeout);\r\n\r\n                        this.toastQueue.shift();\r\n                        event.target.removeEventListener('transitionend', next, false);\r\n                        event.target.dispatchEvent(new Event('served'));\r\n                        if(this.toastQueue.length) this.serve();\r\n                        else this.currentToast = null;\r\n                     };\r\n\r\n                     this.currentToast.addEventListener('transitionend', next, false);\r\n                  }\r\n\r\n};\r\n"],"names":["Toast","msg","options","version","toaster","el","document","createElement","timeout","class","duration","anchor","icon","iconLib","click","opt","ico","className","innerHTML","addEventListener","style","opacity","transition","display","dispatchEvent","Event","remove","x","querySelectorAll","length","forEach","offsetHeight","parseInt","getComputedStyle","marginBottom","marginTop","swallow","cursor","toastQueue","push","t","o","setTimeout","serve","event","callback","eat","window","currentToast","tst","body","appendChild","clipPath","next","propertyName","shift","target","removeEventListener"],"sourceRoot":""}