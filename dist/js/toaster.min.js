!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Toaster=e()}(this,function(){"use strict";class t{constructor(e,s){this.version="2.1.4",this.el=document.createElement("div"),this.options=Object.assign({timeout:2500,class:"",duration:1e3,anchor:"bottom",icon:null,click:null},s);var o=this.options.icon?`<div class="icon"><i class="${this.options.icon}"></i></div>`:"";this.el.className=`toaster ${this.options.class}`,this.el.innerHTML=`${o}<div class="body">${e}</div>`,this.el.addEventListener("eat",()=>{this.el.style.opacity="1",(()=>{this.el.style.transition=`opacity ${this.options.duration}ms`,this.el.style.opacity="0",this.el.addEventListener("transitionend",()=>{this.el.style.display="none",this.el.dispatchEvent(new Event("eaten")),this.el.remove();let t=document.querySelectorAll("div.toaster").length;Array.from(document.querySelectorAll("div.toaster")).forEach(e=>{t--,e.style[this.options.anchor]=t*(e.offsetHeight+parseInt(getComputedStyle(e).marginBottom)+parseInt(getComputedStyle(e).marginTop))+"px"}),this.swallow()})})()}),this.options.click&&(this.el.style.cursor="pointer",this.el.addEventListener("click",t=>{this.options.click&&this.options.click(t),this.el.dispatchEvent(new Event("eat"))})),t.toastQueue.push({t:this.el,o:this.options}),(()=>{this.el.dispatchEvent(new Event("bake"))})(),1==t.toastQueue.length&&t.serve()}eat(){this.el.dispatchEvent(new Event("eat"))}swallow(){this.el.remove(),t.currentToast=null}static serve(){var e,s;if(!t.toastQueue.length)return;var o=t.toastQueue[0].t,n=t.toastQueue[0].o;document.body.appendChild(o),o.style[n.anchor]=0-(o.offsetHeight+parseInt(getComputedStyle(o).marginBottom)+parseInt(getComputedStyle(o).marginTop))+"px",o.style.clipPath="inset(0 0 "+(o.offsetHeight+parseInt(getComputedStyle(o).marginBottom)+parseInt(getComputedStyle(o).marginTop))+"px)",(()=>{o.style.transition=`clip-path ${n.duration}ms, ${n.anchor} ${n.duration}ms`,o.style.clipPath="inset(-100%)";let t=document.querySelectorAll("div.toaster").length;Array.from(document.querySelectorAll("div.toaster")).forEach(e=>{t--,e.style[n.anchor]=t*(e.offsetHeight+parseInt(getComputedStyle(e).marginBottom)+parseInt(getComputedStyle(e).marginTop))+"px"})})(),t.currentToast=o,null===(e=t.currentToast)||void 0===e||e.dispatchEvent(new Event("baked"));const i=e=>{e.propertyName==n.anchor&&(n.timeout&&setTimeout(()=>{null==o||o.dispatchEvent(new Event("eat"))},n.timeout),t.toastQueue.shift(),e.target.removeEventListener("transitionend",i,!1),e.target.dispatchEvent(new Event("served")),t.toastQueue.length&&this.serve())};null===(s=t.currentToast)||void 0===s||s.addEventListener("transitionend",i)}}return t.toastQueue=[],t.currentToast=null,t});
//# sourceMappingURL=toaster.min.js.map
