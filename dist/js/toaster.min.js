!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).toaster=t.toaster||{},t.toaster.min=e())}(this,(function(){"use strict";class t{constructor(e,s){this.el=document.createElement("div"),this.options=Object.assign({timeout:2500,class:"",duration:1e3,anchor:"bottom",icon:null,click:null},s);var i=this.options.icon?`<div class="icon"><i class="${this.options.icon}"></i></div>`:"";this.el.className=`toaster ${this.options.class}`,this.el.innerHTML=`${i}<div class="body">${e}</div>`,this.el.addEventListener("eat",(()=>{this.el.style.opacity="1",(()=>{this.el.style.transition=`opacity ${this.options.duration}ms`,this.el.style.opacity="0",this.el.addEventListener("transitionend",(()=>{this.el.style.display="none",this.el.dispatchEvent(new Event("eaten")),this.el.remove();let t=document.querySelectorAll("div.toaster").length;Array.from(document.querySelectorAll("div.toaster")).forEach((e=>{t--,e.style[this.options.anchor]=t*(e.offsetHeight+parseInt(getComputedStyle(e).marginBottom)+parseInt(getComputedStyle(e).marginTop))+"px"})),this.swallow()}))})()})),this.options.click&&(this.el.style.cursor="pointer",this.el.addEventListener("click",(t=>{this.options.click&&this.options.click(t),this.el.dispatchEvent(new Event("eat"))}))),t.toastQueue.push({t:this.el,o:this.options}),(()=>{this.el.dispatchEvent(new Event("bake"))})(),1==t.toastQueue.length&&t.serve()}eat(){this.el.dispatchEvent(new Event("eat"))}swallow(){this.el.remove(),t.currentToast=null}static serve(){var t,e;if(!this.toastQueue.length)return;var s=this.toastQueue[0].t,i=this.toastQueue[0].o;document.body.appendChild(s),s.style[i.anchor]=0-(s.offsetHeight+parseInt(getComputedStyle(s).marginBottom)+parseInt(getComputedStyle(s).marginTop))+"px",s.style.clipPath="inset(0 0 "+(s.offsetHeight+parseInt(getComputedStyle(s).marginBottom)+parseInt(getComputedStyle(s).marginTop))+"px)",(()=>{s.style.transition=`clip-path ${i.duration}ms, ${i.anchor} ${i.duration}ms`,s.style.clipPath="inset(0)";let t=document.querySelectorAll("div.toaster").length;Array.from(document.querySelectorAll("div.toaster")).forEach((e=>{t--,e.style[i.anchor]=t*(e.offsetHeight+parseInt(getComputedStyle(e).marginBottom)+parseInt(getComputedStyle(e).marginTop))+"px"}))})(),this.currentToast=s,null===(t=this.currentToast)||void 0===t||t.dispatchEvent(new Event("baked"));const o=t=>{t.propertyName==i.anchor&&(i.timeout&&setTimeout((()=>{null==s||s.dispatchEvent(new Event("eat"))}),i.timeout),this.toastQueue.shift(),t.target.removeEventListener("transitionend",o,!1),t.target.dispatchEvent(new Event("served")),this.toastQueue.length&&this.serve())};null===(e=this.currentToast)||void 0===e||e.addEventListener("transitionend",o)}}return t.version="2.0.1",t.toastQueue=[],t}));
//# sourceMappingURL=toaster.min.js.map
